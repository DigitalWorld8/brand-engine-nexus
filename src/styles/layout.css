
@layer components {
  /* Page wrapper and content container */
  .page-wrapper {
    @apply min-h-screen flex flex-col items-center w-full overflow-hidden;
    background-color: #1b1464; /* This is the brand-primary color */
    will-change: background-color;
  }
  
  .content-container {
    @apply w-[90%] md:w-[85%] lg:w-[80%] bg-background min-h-screen rounded-t-[3rem] mt-16 overflow-hidden;
    box-shadow: 0 -10px 30px rgba(0,0,0,0.1);
    transition: all 0.3s cubic-bezier(0.33, 1, 0.68, 1); /* Reduced from 0.5s, improved easing */
    will-change: width, border-radius;
    transform: translateZ(0); /* Force GPU acceleration */
  }
  
  .top-curved-border {
    @apply w-full h-16 absolute top-0 left-0;
    background-color: #1b1464; /* This is the brand-primary color */
    transition: opacity 0.3s cubic-bezier(0.33, 1, 0.68, 1); /* Reduced from 0.5s, improved easing */
    will-change: opacity;
  }
  
  /* Side edges - purple sidebars with scroll-dependent width */
  .side-edge {
    @apply fixed top-0 h-full bg-brand-primary z-0;
    transition: width 0.3s cubic-bezier(0.33, 1, 0.68, 1); /* Reduced from 0.5s, improved easing */
    will-change: width, transform;
    transform: translateZ(0);
  }
  
  .side-edge-left {
    @apply left-0;
  }
  
  .side-edge-right {
    @apply right-0;
  }
  
  /* Different width states for progressive narrowing */
  .side-edge-width-full {
    @apply w-[5%] md:w-[7.5%] lg:w-[10%];
  }
  
  .side-edge-width-medium {
    @apply w-[3.5%] md:w-[5%] lg:w-[7%];
  }
  
  .side-edge-width-small {
    @apply w-[2%] md:w-[3%] lg:w-[4%];
  }
  
  .side-edge-width-minimal {
    @apply w-[1%] md:w-[1.5%] lg:w-[2%];
  }

  /* Wave pattern styling for side edges */
  .side-edge-wave-pattern {
    position: relative;
    overflow: hidden;
    isolation: isolate; /* Optimize composite layers */
  }
  
  /* Left side wave pattern */
  .side-edge-wave-pattern.side-edge-left::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    height: 100%;
    width: 300%; /* Extra wide to ensure coverage */
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='800' viewBox='0 0 100 800' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M100 0V800C66.667 750.667 33.3333 700 0 650V150C33.3333 100.667 66.6667 50 100 0Z' fill='%2309a4d5'/%3E%3C/svg%3E");
    background-repeat: repeat-y;
    background-size: 100% 800px;
    animation: wave-animation-left 25s linear infinite;
    opacity: 0.6;
    mix-blend-mode: lighten;
  }

  /* Right side wave pattern with inverted pattern */
  .side-edge-wave-pattern.side-edge-right::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 300%; /* Extra wide to ensure coverage */
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='800' viewBox='0 0 100 800' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0V800C33.333 750.667 66.667 700 100 650V150C66.667 100.667 33.333 50 0 0Z' fill='%2309a4d5'/%3E%3C/svg%3E");
    background-repeat: repeat-y;
    background-size: 100% 800px;
    animation: wave-animation-right 25s linear infinite;
    opacity: 0.6;
    mix-blend-mode: lighten;
  }

  /* Second wave layer for more dynamic effect - left side */
  .side-edge-wave-pattern.side-edge-left::after {
    content: "";
    position: absolute;
    top: -400px; /* Offset for visual variation */
    right: 0;
    height: 100%;
    width: 300%;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='800' viewBox='0 0 100 800' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M100 0V800C66.667 725 33.333 650 0 575V225C33.333 150 66.667 75 100 0Z' fill='%23778DFC'/%3E%3C/svg%3E");
    background-repeat: repeat-y;
    background-size: 100% 800px;
    animation: wave-animation-left 18s linear infinite;
    opacity: 0.4;
    mix-blend-mode: lighten;
  }

  /* Second wave layer for more dynamic effect - right side */
  .side-edge-wave-pattern.side-edge-right::after {
    content: "";
    position: absolute;
    top: -400px; /* Offset for visual variation */
    left: 0;
    height: 100%;
    width: 300%;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='800' viewBox='0 0 100 800' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0V800C33.333 725 66.667 650 100 575V225C66.667 150 33.333 75 0 0Z' fill='%23778DFC'/%3E%3C/svg%3E");
    background-repeat: repeat-y;
    background-size: 100% 800px;
    animation: wave-animation-right 18s linear infinite;
    opacity: 0.4;
    mix-blend-mode: lighten;
  }

  /* New animated background for side edges with wave animations */
  @keyframes wave-animation-left {
    0% { transform: translateY(0%); }
    100% { transform: translateY(-50%); }
  }

  @keyframes wave-animation-right {
    0% { transform: translateY(-50%); }
    100% { transform: translateY(0%); }
  }

  /* Keep the original side-edge-animated for backward compatibility */
  .side-edge-animated::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(180deg, rgba(27,20,100,0) 0%, rgba(9,164,213,0.15) 50%, rgba(27,20,100,0) 100%);
    transform: translateY(-100%) translateZ(0);
    animation: side-edge-flow 4s linear infinite; /* Reduced from 6s to 4s for faster animation */
    will-change: transform;
    backface-visibility: hidden;
  }
  
  /* Mobile Bottom Navigation Styles */
  .bottom-nav-item {
    @apply flex flex-col items-center justify-center py-2 px-4;
    @apply transition-colors duration-200;
  }
  
  .bottom-nav-item-active {
    @apply text-brand-primary;
  }
  
  .bottom-nav-item-inactive {
    @apply text-gray-500;
  }
  
  .bottom-nav-center-button {
    @apply -mt-6 rounded-full bg-brand-primary p-3 shadow-lg;
    @apply transform transition-transform duration-200 hover:scale-105 active:scale-95;
  }
}

/* Add support for hardware acceleration */
.transform-gpu {
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: transform;
}

/* Extended duration classes with better performance hints */
.duration-800 {
  transition-duration: 800ms;
  will-change: auto;
}

.duration-900 {
  transition-duration: 900ms;
  will-change: auto;
}

.duration-1000 {
  transition-duration: 1000ms;
  will-change: auto;
}

/* Transition easing functions */
.ease-smooth {
  transition-timing-function: cubic-bezier(0.33, 1, 0.68, 1); /* Updated to modern easing */
}

/* Additional easing functions for smoother animations */
.ease-out-expo {
  transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
}

.ease-in-out-back {
  transition-timing-function: cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

/* Page transition effect with modern curve */
@keyframes page-reveal {
  0% { transform: translateY(12px) translateZ(0); opacity: 0; }
  100% { transform: translateY(0) translateZ(0); opacity: 1; }
}

.page-reveal {
  animation: page-reveal 0.35s cubic-bezier(0.33, 1, 0.68, 1) forwards; /* Reduced from 0.5s, improved easing */
  will-change: transform, opacity;
  backface-visibility: hidden;
}

/* Hero tear shape for better content flow */
.hero-tear-shape {
  border-radius: 0 0 65% 0;
  overflow: hidden;
}
